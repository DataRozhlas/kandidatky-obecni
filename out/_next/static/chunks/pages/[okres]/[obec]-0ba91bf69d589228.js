(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{7612:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[okres]/[obec]",function(){return c(2001)}])},6326:function(a,b,c){"use strict";c.d(b,{Z:function(){return r}});var d,e=c(9452),f=c(3712),g=c(8316),h=c(5659),i=c.n(h),j=c(1527),k=c(1482),l=c(8738),m=c(7678),n=c(1037),o=c(5107),p=c(4697),q=(d=(0,e.Z)(i().mark(function a(){var b;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://data.irozhlas.cz/kandidatky-obecni-data/2022/zast-autocomplete.tsv").then(function(a){return a.text()}).then(function(a){return(0,p.tJ)(a)});case 2:return b=a.sent,a.abrupt("return",b);case 4:case"end":return a.stop()}},a)})),function(){return d.apply(this,arguments)});function r(){var a=(0,k.useRouter)(),b=(0,o.useQuery)("autocomplete",q,{staleTime:1/0}),c=b.isLoading,d=b.error,e=b.data;return c?"Stahuji data...":d?"Stala se chyba: "+d.message:(0,j.jsxs)(l.Z,{maxWidth:"xs",children:[" ",(0,j.jsx)(m.Z,{disablePortal:!0,autoHighlight:!0,options:e,getOptionLabel:function(a){return"".concat(a.label,", okr. ").concat(a.okres)},renderInput:function(a){return(0,j.jsx)(n.Z,(0,g.Z)((0,f.Z)({},a),{label:"Najdi obec"}))},noOptionsText:"Obec nenalezena",onChange:function(b,c){c&&a.push("/".concat(c.value))}})]})}},2001:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSG":function(){return T},default:function(){return U}});var d=c(1527),e=c(959),f=c(4219),g=c(6326),h=c(8251),i=c(8975),j=c(3712),k=c(4614),l=c(507),m=c.n(l),n=c(5924),o=c(1482),p=c(1140),q=c.n(p),r=c(3968),s=c(3673),t=(0,s.ZP)("a")({}),u=e.forwardRef(function(a,b){var c=a.to,e=a.linkAs,f=a.replace,g=a.scroll,h=a.shallow,i=a.prefetch,l=a.locale,m=(0,k.Z)(a,["to","linkAs","replace","scroll","shallow","prefetch","locale"]);return(0,d.jsx)(q(),{href:c,prefetch:i,as:e,replace:f,scroll:g,shallow:h,passHref:!0,locale:l,children:(0,d.jsx)(t,(0,j.Z)({ref:b},m))})});u.propTypes={href:m().any,linkAs:m().oneOfType([m().object,m().string]),locale:m().string,passHref:m().bool,prefetch:m().bool,replace:m().bool,scroll:m().bool,shallow:m().bool,to:m().oneOfType([m().object,m().string]).isRequired};var v=e.forwardRef(function(a,b){var c=a.activeClassName,e=void 0===c?"active":c,f=a.as,g=a.className,h=a.href,l=a.linkAs,m=a.locale,p=a.noLinkStyle,q=a.prefetch,s=a.replace,v=(a.role,a.scroll),w=a.shallow,x=(0,k.Z)(a,["activeClassName","as","className","href","linkAs","locale","noLinkStyle","prefetch","replace","role","scroll","shallow"]),y=(0,o.useRouter)(),z="string"==typeof h?h:h.pathname,A=(0,n.Z)(g,(0,i.Z)({},e,y.pathname===z&&e)),B="string"==typeof h&&(0===h.indexOf("http")||0===h.indexOf("mailto:"));if(B)return p?(0,d.jsx)(t,(0,j.Z)({className:A,href:h,ref:b},x)):(0,d.jsx)(r.Z,(0,j.Z)({className:A,href:h,ref:b},x));var C={to:h,linkAs:l||f,replace:s,scroll:v,shallow:w,prefetch:q,locale:m};return p?(0,d.jsx)(u,(0,j.Z)({className:A,ref:b},C,x)):(0,d.jsx)(r.Z,(0,j.Z)({component:u,className:A,ref:b},C,x))});v.propTypes={activeClassName:m().string,as:m().oneOfType([m().object,m().string]),className:m().string,href:m().any,linkAs:m().oneOfType([m().object,m().string]),locale:m().string,noLinkStyle:m().bool,prefetch:m().bool,replace:m().bool,role:m().string,scroll:m().bool,shallow:m().bool};var w=v,x=function(a){var b=a.okresData,c=a.obecData;return(0,d.jsxs)(f.ZP,{item:!0,children:[(0,d.jsx)(h.Z,{variant:"h1",children:c.NAZEVZAST}),(0,d.jsx)(h.Z,{variant:"h6",children:(0,d.jsxs)(w,{href:"/".concat(b.key),children:["okres ",b.NAZEVNUTS]})}),(0,d.jsxs)(h.Z,{variant:"h6",children:[Number(c.POCOBYV).toLocaleString("cs-CZ")," obyvatel |"," ",c.MANDATY," mand\xe1tů"]})]})},y=x,z=c(7070),A=c(4286),B=function(a){var b=a.rok,c=a.setRok,e=function(a){c(a.target.value)};return(0,d.jsx)(f.ZP,{item:!0,children:(0,d.jsxs)(z.Z,{value:b,exclusive:!0,onChange:e,"aria-label":"vyber rok",color:"primary",children:[(0,d.jsx)(A.Z,{value:"2006","aria-label":"2006",children:"2006"}),(0,d.jsx)(A.Z,{value:"2010","aria-label":"2010",children:"2010"}),(0,d.jsx)(A.Z,{value:"2014","aria-label":"2014",children:"2014"}),(0,d.jsx)(A.Z,{value:"2018","aria-label":"2018",children:"2018"}),(0,d.jsx)(A.Z,{value:"2022","aria-label":"2022",children:"2022"})]})})},C=B,D=c(9452),E=c(5659),F=c.n(E),G=c(5107),H=c(4697),I=c(8316),J=c(5228),K=c(5180),L=c(4669),M=function(a){var b=a.getValue(a.id,"TITULPRED");return(0,d.jsx)(L.Z,{arrow:!0,enterTouchDelay:0,title:"".concat(a.getValue(a.id,"TITULPRED")||""," ").concat(a.getValue(a.id,"JMENO")||""," ").concat(a.getValue(a.id,"PRIJMENI")||""," ").concat(a.getValue(a.id,"TITULZA")||""),children:(0,d.jsxs)(h.Z,{style:{cursor:"help",overflow:"hidden",textOverflow:"ellipsis"},children:[(0,d.jsx)("span",{style:{fontSize:"70%"},children:void 0===b?"":b+"\xa0"}),a.getValue(a.id,"JMENO")||"","\xa0",(0,d.jsx)("strong",{children:a.getValue(a.id,"PRIJMENI")||""}),"\xa0",(0,d.jsx)("span",{style:{fontSize:"70%"},children:a.getValue(a.id,"TITULZA")||""})]})})},N=function(a){return(0,d.jsx)(L.Z,{arrow:!0,enterTouchDelay:0,title:a.getValue(a.id,"POVOLANI"),children:(0,d.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"help"},children:a.getValue(a.id,"POVOLANI")})})},O=function(a){var b=a.vybarveniKandidati,c=a.isMobile,e=a.strany;return(0,d.jsx)("div",{style:{width:"100%",marginTop:c?null:"1.6rem"},children:(0,d.jsx)("div",{style:{display:"flex",height:"100%"},children:(0,d.jsx)("div",{style:{flexGrow:1},children:(0,d.jsx)(J._,{autoHeight:!0,localeText:K.l.components.MuiDataGrid.defaultProps.localeText,density:"compact",rows:b.map(function(a){return(0,I.Z)((0,j.Z)({},a),{id:"".concat(a.KODZASTUP,"-").concat(a.COBVODU,"-").concat(a.POR_STR_HL,"-").concat(a.PORCISLO)})}),columns:[{field:"PORCISLO",headerName:"Pořad\xed",description:"pořad\xed na kandid\xe1tce",flex:1,minWidth:15,disableColumnMenu:!0,type:"number"},{field:"fullName",headerName:"Cel\xe9 jm\xe9no",renderCell:M,sortComparator:function(a,b,c,d){return c.api.getCellValue(c.id,"PRIJMENI").localeCompare(c.api.getCellValue(d.id,"PRIJMENI"),"cs-CZ")},flex:3,minWidth:140},{field:"OSTRANA",headerName:"Strana",description:"volebn\xed strana",renderCell:function(a){var b=e.find(function(b){return b.OSTRANA===a.value});return(0,d.jsx)(L.Z,{arrow:!0,enterTouchDelay:0,title:b.ZKRATKAO30,children:(0,d.jsx)(h.Z,{style:{cursor:"help",overflow:"hidden",textOverflow:"ellipsis"},children:b.ZKRATKAO30})})},minWidth:100,flex:3},{field:"VEK",headerName:"Věk",flex:1,disableColumnMenu:!0,minWidth:15,type:"number"},{field:"POVOLANI",headerName:"Povol\xe1n\xed",flex:6,renderCell:N,minWidth:120},],rowsPerPageOptions:c?[10]:[20],pageSize:c?10:20,disableSelectionOnClick:!0})})})})},P=c(3288),Q=function(a){var b,c=a.rok,g=a.obecData,i=a.okresData,j=(0,e.useState)([]);j[0],j[1];var k=(b=(0,D.Z)(F().mark(function a(b){var d;return F().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://data.irozhlas.cz/kandidatky-obecni-data/".concat(c,"/").concat(i.key,"/").concat(g.key,"/").concat(b.queryKey[0],".tsv")).then(function(a){return a.text()}).then(function(a){return(0,H.tJ)(a)});case 2:return d=a.sent,a.abrupt("return",d);case 4:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),l=(0,G.useQuery)(["kandidati",c,g.KODZASTUP],k),m=(0,G.useQuery)(["strany",c,g.KODZASTUP],k);if(l.isLoading)return(0,d.jsx)(f.ZP,{item:!0,children:(0,d.jsx)(P.Z,{})});if(l.error)return(0,d.jsx)(f.ZP,{item:!0,children:"Stala se chyba: "+error.message});var n=l.data.reduce(function(a,b){return a+Number(b.VEK)},0)/l.data.length,o=l.data.reduce(function(a,b){return"F"===b.POHLAVI?a+1:a},0)/l.data.length;return isNaN(n)?(0,d.jsx)(f.ZP,{item:!0,children:"Data nejsou k dispozici. Zkuste jin\xfd rok nebo jinou obec."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.ZP,{item:!0,children:(0,d.jsxs)(h.Z,{variant:"body",children:[l.data.length," kandid\xe1tů | průměrn\xfd věk"," ",(Math.round(10*n)/10).toLocaleString("cs-CZ")," let |"," ",(Math.round(1e3*o)/10).toLocaleString("cs-CZ")," % žen"]})}),(0,d.jsx)(f.ZP,{item:!0}),!m.isLoading&&!l.isLoading&&(0,d.jsx)(f.ZP,{item:!0,children:(0,d.jsx)(O,{vybarveniKandidati:l.data,isMobile:!1,strany:m.data})})]})},R=c(8738),S=function(a){var b=a.obecData,c=a.okresData,e=a.rok,g=a.setRok;return(0,d.jsx)(R.Z,{children:(0,d.jsxs)(f.ZP,{container:!0,direction:"column",spacing:1,children:[(0,d.jsx)(y,{obecData:b,okresData:c}),(0,d.jsx)(C,{rok:e,setRok:g}),(0,d.jsx)(Q,{rok:e,obecData:b,okresData:c})]})})},T=!0;function U(a){var b=a.obecData,c=a.okresData,h=(0,e.useState)("2022"),i=h[0],j=h[1];return(0,d.jsxs)(f.ZP,{container:!0,spacing:3,mt:1,direction:"column",children:[(0,d.jsx)(f.ZP,{item:!0,children:(0,d.jsx)(g.Z,{})}),(0,d.jsx)(f.ZP,{item:!0,children:(0,d.jsx)(S,{obecData:b,okresData:c,rok:i,setRok:j})})]})}}},function(a){a.O(0,[140,224,59,774,888,179],function(){var b;return a(a.s=7612)}),_N_E=a.O()}])